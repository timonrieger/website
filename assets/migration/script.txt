# place in the home route of the database blog to export the current database to markdown
    
    def sanitize_filename(title):
        # Replace spaces with underscores, remove special characters
        sanitized = re.sub(r'[^a-zA-Z0-9_-]', '', title.replace(' ', '_').lower())
        return sanitized

    for post in posts:
        os.makedirs("export-md", exist_ok=True)
        from html_to_markdown import convert_to_markdown

        # Generate a sanitized file name
        sanitized_title = sanitize_filename(post.title)
        file_name = f"export-md/{sanitized_title}.md"
        with open(file_name, "w") as file:
            file.write(
                f'''
---
date: '{post.create_date.strftime("%Y-%m-%dT%H:%M:%S")}'
draft: {post.is_draft}
tags: {tags_to_list(post.tags)}
title: '{post.title}'
summary: '{post.subtitle}'
---
{convert_to_markdown(post.body)}
                '''
            )